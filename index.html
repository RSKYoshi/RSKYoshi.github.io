<!DOCTYPE html>
<html lang="Eng">
<head>
  <title>Konami Code</title>
  <link rel="stylesheet" href="css/konami.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body id="body">
  <nav id="img"><img class="rotate" id="logo" type="hidden" src="img/konamilogo2.webp" alt="img"></nav>
  <form>
    <label for="input"></label><input id="input" type="text" size="25" placeholder="&#8593 &#8593 &#8595 &#8595 &#8592 &#8594 &#8592 &#8594 b a 'enter'">
  </form>
  <audio id="sfx"><source src="sfx/KONAMI-PAUSE-SOUND-NES.mp3"></audio>
  <div id="pressStart"></div>
<!--  controller below here-->
  <div id="controller">
    <div id="directional-buttons">
      <div className="middle"></div>
      <div className="left"></div>
      <div className="top"></div>
      <div className="right"></div>
      <div className="bottom"></div>
    </div>
    <div id="selections-buttons">
      <div className="row"></div>
      <div className="row"></div>
      <div className="row">
        <div className="select">select</div>
        <div className="select-button"></div>
        <div className="start">start
          <div className="start-button"></div>
        </div>
      </div>
      <div className="row bigger">
      </div>
      <div className="row"></div>
    </div>
    <div id="mainbuttons">
      <div className="a-container">
        <div className="a"></div>
      </div>
      <div className="b-container">
        <div className="b"></div>
      </div>
    </div>
  </div>


<script>
  "use strict";

  //sequence to activate 30 lives
  const seq = "ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightbaEnter"

  //need to push keypress into userInput
  let userInput = "";



  let pressStart = document.querySelector("#pressStart");
  pressStart.addEventListener("click", clickToShowController)
  function clickToShowController(){
    //show a clickable controller div ontop of press Start area
    alert("test");
    soundEffect.play();
    showController();
    //need to toggle controller here
  }


  function showController(){
    let img = document.getElementById("controller");
    img.style.display = "block";
  }



  // this  is to capture the key and output to console
  // document.addEventListener("keyup", function(event) {
  //   console.log(event.key);
  // });

  // var image = new Image();
  // image.src =“img/konamiController.webp”;
  // document.body.appendChild(image);

  function showKonamiSpin(){
    let img = document.getElementById("img");
    img.style.display = "block";
  }
  function hideBox(){
    let input = document.getElementById("input");
    input.style.display = "none";
  }
  let soundEffect = document.getElementById("sfx");

  function addFunctionality(){
    document.addEventListener("keyup", function(event) {
      //code here to store keypress to userInput
      //need to reference userInput
      userInput+=event.key;
      console.log(userInput)
      if(userInput.includes(seq)){
        soundEffect.play();
        hideBox();
        showKonamiSpin();
        // alert("You have added 30 lives!")
      }
    });
  }
  addFunctionality();
  //code to check if user input fulfills seq
  // if(userInput === seq){
  //   alert("You have added 30 lives!")
  // }




</script>

</body>
</html>

